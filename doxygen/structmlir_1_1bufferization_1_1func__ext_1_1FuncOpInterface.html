<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: mlir::bufferization::func_ext::FuncOpInterface Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">15.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemlir.html">mlir</a></li><li class="navelem"><a class="el" href="namespacemlir_1_1bufferization.html">bufferization</a></li><li class="navelem"><a class="el" href="namespacemlir_1_1bufferization_1_1func__ext.html">func_ext</a></li><li class="navelem"><a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface.html">FuncOpInterface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structmlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mlir::bufferization::func_ext::FuncOpInterface Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for mlir::bufferization::func_ext::FuncOpInterface:</div>
<div class="dyncontent">
<div class="center"><img src="structmlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface__inherit__graph.png" border="0" usemap="#mlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface_inherit__map" alt="Inheritance graph"/></div>
<map name="mlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface_inherit__map" id="mlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for mlir::bufferization::func_ext::FuncOpInterface:</div>
<div class="dyncontent">
<div class="center"><img src="structmlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface__coll__graph.png" border="0" usemap="#mlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface_coll__map" alt="Collaboration graph"/></div>
<map name="mlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface_coll__map" id="mlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9b25cda390df1b0254eb631da77a303b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface.html#a9b25cda390df1b0254eb631da77a303b">bufferize</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op, <a class="el" href="classmlir_1_1RewriterBase.html">RewriterBase</a> &amp;rewriter, <a class="el" href="structmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;state) const</td></tr>
<tr class="memdesc:a9b25cda390df1b0254eb631da77a303b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrite function bbArgs and return values into buffer form (using the canonical memref layout for now).  <a href="#a9b25cda390df1b0254eb631da77a303b">More...</a><br /></td></tr>
<tr class="separator:a9b25cda390df1b0254eb631da77a303b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c05f506efd7c677c9108daa26c17a77"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface.html#a4c05f506efd7c677c9108daa26c17a77">isWritable</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op, <a class="el" href="classmlir_1_1Value.html">Value</a> <a class="el" href="InterfaceSupport_8h.html#a53ed1830bfcbea42b0e7b10281e03865">value</a>, const <a class="el" href="classmlir_1_1bufferization_1_1AnalysisState.html">AnalysisState</a> &amp;state) const</td></tr>
<tr class="memdesc:a4c05f506efd7c677c9108daa26c17a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return <code>true</code> if the given function argument is writable.  <a href="#a4c05f506efd7c677c9108daa26c17a77">More...</a><br /></td></tr>
<tr class="separator:a4c05f506efd7c677c9108daa26c17a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3097f0ec570fe3a0efe0a699b3216ec2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncOpInterface.html#a3097f0ec570fe3a0efe0a699b3216ec2">isAllocationHoistingBarrier</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op) const</td></tr>
<tr class="separator:a3097f0ec570fe3a0efe0a699b3216ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00387">387</a> of file <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html">FuncBufferizableOpInterfaceImpl.cpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a9b25cda390df1b0254eb631da77a303b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b25cda390df1b0254eb631da77a303b">&#9670;&nbsp;</a></span>bufferize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> mlir::bufferization::func_ext::FuncOpInterface::bufferize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1RewriterBase.html">RewriterBase</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmlir_1_1bufferization_1_1BufferizationState.html">BufferizationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rewrite function bbArgs and return values into buffer form (using the canonical memref layout for now). </p>
<p>This function bufferizes the function signature and the ReturnOp. When the entire function body has been bufferized, function return types can be switched to more concise memref types as part of <code>foldMemRefCasts</code>.</p>
<p>When a tensor function argument is known to be equivalent to a tensor result, it is dropped from the return values.</p>
<p>All function bbArgs are writable unless they are explicitly marked as read-only. Callers must insert copies when needed.</p>
<p>Note: Returning a memref is possible, but corresponding CallOp bufferizations fail unless <code>allowReturnAllocs</code>. </p>

<p class="definition">Definition at line <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00403">403</a> of file <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html">FuncBufferizableOpInterfaceImpl.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Types_8h_source.html#l00250">mlir::Type::cast()</a>, <a class="el" href="Builders_8cpp_source.html#l00380">mlir::OpBuilder::create()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00527">mlir::bufferization::createMemCpy()</a>, <a class="el" href="IR_2Types_8h_source.html#l00244">mlir::Type::dyn_cast()</a>, <a class="el" href="Matchers_8h_source.html#l00234">mlir::detail::enumerate()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="Block_8h_source.html#l00144">mlir::Block::front()</a>, <a class="el" href="BufferizableOpInterface_8h_source.html#l00462">mlir::bufferization::BufferizationState::getAnalysisState()</a>, <a class="el" href="Block_8h_source.html#l00076">mlir::Block::getArguments()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00047">mlir::bufferization::func_ext::getAssumedUniqueReturnOp()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00274">mlir::bufferization::BufferizationState::getBuffer()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00064">mlir::bufferization::func_ext::getBufferizedFunctionArgType()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00154">mlir::Operation::getContext()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00114">mlir::bufferization::func_ext::getEquivalentFuncArgIdx()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00094">mlir::bufferization::func_ext::getFuncAnalysisState()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00659">mlir::bufferization::getMemRefType()</a>, <a class="el" href="BufferizableOpInterface_8h_source.html#l00458">mlir::bufferization::BufferizationState::getOptions()</a>, <a class="el" href="Value_8h_source.html#l00118">mlir::Value::getType()</a>, <a class="el" href="OperationSupport_8h_source.html#l01162">mlir::ValueRange::getTypes()</a>, <a class="el" href="IR_2Types_8h_source.html#l00234">mlir::Type::isa()</a>, <a class="el" href="PassManagerOptions_8cpp_source.html#l00084">options</a>, <a class="el" href="Builders_8h_source.html#l00329">mlir::OpBuilder::setInsertionPoint()</a>, <a class="el" href="Builders_8h_source.html#l00362">mlir::OpBuilder::setInsertionPointToStart()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

</div>
</div>
<a id="a3097f0ec570fe3a0efe0a699b3216ec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3097f0ec570fe3a0efe0a699b3216ec2">&#9670;&nbsp;</a></span>isAllocationHoistingBarrier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mlir::bufferization::func_ext::FuncOpInterface::isAllocationHoistingBarrier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00534">534</a> of file <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html">FuncBufferizableOpInterfaceImpl.cpp</a>.</p>

<p class="reference">References <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00542">mlir::bufferization::func_ext::registerBufferizableOpInterfaceExternalModels()</a>.</p>

</div>
</div>
<a id="a4c05f506efd7c677c9108daa26c17a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c05f506efd7c677c9108daa26c17a77">&#9670;&nbsp;</a></span>isWritable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mlir::bufferization::func_ext::FuncOpInterface::isWritable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1bufferization_1_1AnalysisState.html">AnalysisState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return <code>true</code> if the given function argument is writable. </p>

<p class="definition">Definition at line <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00518">518</a> of file <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html">FuncBufferizableOpInterfaceImpl.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8h_source.html#l00100">mlir::Value::dyn_cast()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lib/Dialect/Bufferization/Transforms/<a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html">FuncBufferizableOpInterfaceImpl.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 4 2022 20:33:04 for MLIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
