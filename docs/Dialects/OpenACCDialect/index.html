<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>'acc' Dialect - MLIR</title><meta name=description content="Multi-Level IR Compiler Framework"><meta name=generator content="Hugo 0.80.0"><link href=https://mlir.llvm.org/index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://mlir.llvm.org/docs/Dialects/OpenACCDialect/><link rel=stylesheet href=https://mlir.llvm.org/css/theme.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script><link rel=stylesheet href=https://mlir.llvm.org/css/chroma.min.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script><script src=https://mlir.llvm.org/js/bundle.js></script><script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$', '$'] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    }
  });
</script><link rel=apple-touch-icon sizes=180x180 href="/apple-touch-icon.png?v=1"><link rel=icon type=image/png sizes=32x32 href="/favicon-32x32.png?v=1"><link rel=icon type=image/png sizes=16x16 href="/favicon-16x16.png?v=1"><link rel=manifest href="/site.webmanifest?v=1"><link rel=mask-icon href="/safari-pinned-tab.svg?v=1" color=#3775e0><link rel="shortcut icon" href="/favicon.ico?v=1"><meta name=msapplication-TileColor content="#2d89ef"><meta name=theme-color content="#ffffff"><link rel=icon href=/favicon.svg type=image/svg+xml sizes=any><style>:root{}</style></head><body><div class=container><header><h1><div><img src=https://mlir.llvm.org//mlir-logo.png width=40px align=absmiddle>
MLIR</div></h1><p class=description>Multi-Level IR Compiler Framework</p></header><div class=global-menu><nav><ul><li class=parent><a href>Community<i class="fas fa-angle-right"></i></a><ul class=sub-menu><li class=child><a href=https://llvm.discourse.group/c/mlir/31>Forums</a></li><li class=child><a href=https://discord.gg/xS7Z362>Chat</a></li></ul></li><li><a href=/getting_started/Debugging/>Debugging Tips</a></li><li><a href=/getting_started/Faq/>FAQ</a></li><li class=parent><a href=https://github.com/llvm/llvm-project/tree/main/mlir>Source<i class="fas fa-angle-right"></i></a><ul class=sub-menu><li class=child><a href=/doxygen/>Doxygen</a></li><li class=child><a href=https://github.com/llvm/llvm-project/tree/main/mlir>GitHub</a></li></ul></li><li><a href="https://bugs.llvm.org/buglist.cgi?bug_status=__open__&list_id=177877&order=changeddate%20DESC%2Cpriority%2Cbug_severity&product=MLIR&query_format=specific">Bugs</a></li><li><a href=https://github.com/llvm/mlir-www/tree/main/website/static/LogoAssets>Logo Assets</a></li><li><a href=https://www.youtube.com/MLIRCompiler>Youtube Channel</a></li></ul></nav></div><div class=content-container><main><h1>'acc' Dialect</h1><p>An OpenACC dialect for MLIR.
This dialect models the construct from the OpenACC 3.1 directive language.</p><p><nav id=TableOfContents><ul><li><a href=#attribute-constraint-definition>Attribute constraint definition</a><ul><li><a href=#defaultvalue-clause>DefaultValue Clause</a></li><li><a href=#built-in-reduction-operations-supported-by-openacc>built-in reduction operations supported by OpenACC</a></li></ul></li><li><a href=#attribute-definition>Attribute definition</a><ul><li><a href=#clausedefaultvalueattr>ClauseDefaultValueAttr</a></li><li><a href=#reductionopattr>ReductionOpAttr</a></li></ul></li><li><a href=#operation-definition>Operation definition</a><ul><li><a href=#accdata-mliraccdataop><code>acc.data</code> (::mlir::acc::DataOp)</a></li><li><a href=#accenter_data-mliraccenterdataop><code>acc.enter_data</code> (::mlir::acc::EnterDataOp)</a></li><li><a href=#accexit_data-mliraccexitdataop><code>acc.exit_data</code> (::mlir::acc::ExitDataOp)</a></li><li><a href=#accinit-mliraccinitop><code>acc.init</code> (::mlir::acc::InitOp)</a></li><li><a href=#accloop-mliraccloopop><code>acc.loop</code> (::mlir::acc::LoopOp)</a></li><li><a href=#accparallel-mliraccparallelop><code>acc.parallel</code> (::mlir::acc::ParallelOp)</a></li><li><a href=#accshutdown-mliraccshutdownop><code>acc.shutdown</code> (::mlir::acc::ShutdownOp)</a></li><li><a href=#accterminator-mliraccterminatorop><code>acc.terminator</code> (::mlir::acc::TerminatorOp)</a></li><li><a href=#accupdate-mliraccupdateop><code>acc.update</code> (::mlir::acc::UpdateOp)</a></li><li><a href=#accwait-mliraccwaitop><code>acc.wait</code> (::mlir::acc::WaitOp)</a></li><li><a href=#accyield-mliraccyieldop><code>acc.yield</code> (::mlir::acc::YieldOp)</a></li></ul></li></ul></nav><h2 id=attribute-constraint-definition>Attribute constraint definition&nbsp;<a class=headline-hash href=#attribute-constraint-definition>¶</a></h2><h3 id=defaultvalue-clause>DefaultValue Clause&nbsp;<a class=headline-hash href=#defaultvalue-clause>¶</a></h3><h3 id=built-in-reduction-operations-supported-by-openacc>built-in reduction operations supported by OpenACC&nbsp;<a class=headline-hash href=#built-in-reduction-operations-supported-by-openacc>¶</a></h3><h2 id=attribute-definition>Attribute definition&nbsp;<a class=headline-hash href=#attribute-definition>¶</a></h2><h3 id=clausedefaultvalueattr>ClauseDefaultValueAttr&nbsp;<a class=headline-hash href=#clausedefaultvalueattr>¶</a></h3><p>DefaultValue Clause</p><p>Syntax:</p><pre><code>!acc.defaultvalue&lt;
  ::mlir::acc::ClauseDefaultValue   # value
&gt;
</code></pre><h4 id=parameters>Parameters:&nbsp;<a class=headline-hash href=#parameters>¶</a></h4><table><thead><tr><th style=text-align:center>Parameter</th><th style=text-align:center>C++ type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center>value</td><td style=text-align:center><code>::mlir::acc::ClauseDefaultValue</code></td><td>an enum of type ClauseDefaultValue</td></tr></tbody></table><h3 id=reductionopattr>ReductionOpAttr&nbsp;<a class=headline-hash href=#reductionopattr>¶</a></h3><p>built-in reduction operations supported by OpenACC</p><p>Syntax:</p><pre><code>!acc.reduction_op&lt;
  ::mlir::acc::ReductionOp   # value
&gt;
</code></pre><h4 id=parameters-1>Parameters:&nbsp;<a class=headline-hash href=#parameters-1>¶</a></h4><table><thead><tr><th style=text-align:center>Parameter</th><th style=text-align:center>C++ type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center>value</td><td style=text-align:center><code>::mlir::acc::ReductionOp</code></td><td>an enum of type ReductionOp</td></tr></tbody></table><h2 id=operation-definition>Operation definition&nbsp;<a class=headline-hash href=#operation-definition>¶</a></h2><h3 id=accdata-mliraccdataop><code>acc.data</code> (::mlir::acc::DataOp)&nbsp;<a class=headline-hash href=#accdata-mliraccdataop>¶</a></h3><p>data construct</p><p>Syntax:</p><pre><code>operation ::= `acc.data` ( `if` `(` $ifCond^ `)` )?
              ( `copy` `(` $copyOperands^ `:` type($copyOperands) `)` )?
              ( `copyin` `(` $copyinOperands^ `:` type($copyinOperands) `)` )?
              ( `copyin_readonly` `(` $copyinReadonlyOperands^ `:`
              type($copyinReadonlyOperands) `)` )?
              ( `copyout` `(` $copyoutOperands^ `:` type($copyoutOperands) `)` )?
              ( `copyout_zero` `(` $copyoutZeroOperands^ `:`
              type($copyoutZeroOperands) `)` )?
              ( `create` `(` $createOperands^ `:` type($createOperands) `)` )?
              ( `create_zero` `(` $createZeroOperands^ `:`
              type($createZeroOperands) `)` )?
              ( `no_create` `(` $noCreateOperands^ `:` type($noCreateOperands) `)` )?
              ( `present` `(` $presentOperands^ `:` type($presentOperands) `)` )?
              ( `deviceptr` `(` $deviceptrOperands^ `:` type($deviceptrOperands) `)` )?
              ( `attach` `(` $attachOperands^ `:` type($attachOperands) `)` )?
              $region attr-dict-with-keyword
</code></pre><p>The &ldquo;acc.data&rdquo; operation represents a data construct. It defines vars to
be allocated in the current device memory for the duration of the region,
whether data should be copied from local memory to the current device
memory upon region entry , and copied from device memory to local memory
upon region exit.</p><p>Example:</p><div class=highlight><pre class=chroma><code class=language-mlir data-lang=mlir>acc<span class=p>.</span>data present<span class=p>(</span><span class=nv>%a</span><span class=p>:</span> <span class=kt>memref</span><span class=p>&lt;</span><span class=m>10x10x</span><span class=k>f32</span><span class=p>&gt;,</span> <span class=nv>%b</span><span class=p>:</span> <span class=kt>memref</span><span class=p>&lt;</span><span class=m>10x10x</span><span class=k>f32</span><span class=p>&gt;,</span>
    <span class=nv>%c</span><span class=p>:</span> <span class=kt>memref</span><span class=p>&lt;</span><span class=m>10x</span><span class=k>f32</span><span class=p>&gt;,</span> <span class=nv>%d</span><span class=p>:</span> <span class=kt>memref</span><span class=p>&lt;</span><span class=m>10x</span><span class=k>f32</span><span class=p>&gt;)</span> <span class=p>{</span>
  <span class=c>// data region
</span><span class=c></span><span class=p>}</span>
</code></pre></div><p>Traits: AttrSizedOperandSegments</p><h4 id=attributes>Attributes:&nbsp;<a class=headline-hash href=#attributes>¶</a></h4><table><thead><tr><th style=text-align:center>Attribute</th><th style=text-align:center>MLIR Type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>defaultAttr</code></td><td style=text-align:center>::mlir::acc::ClauseDefaultValueAttr</td><td>DefaultValue Clause</td></tr></tbody></table><h4 id=operands>Operands:&nbsp;<a class=headline-hash href=#operands>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>ifCond</code></td><td>1-bit signless integer</td></tr><tr><td style=text-align:center><code>copyOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>copyinOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>copyinReadonlyOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>copyoutOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>copyoutZeroOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>createOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>createZeroOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>noCreateOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>presentOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>deviceptrOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>attachOperands</code></td><td>any type</td></tr></tbody></table><h3 id=accenter_data-mliraccenterdataop><code>acc.enter_data</code> (::mlir::acc::EnterDataOp)&nbsp;<a class=headline-hash href=#accenter_data-mliraccenterdataop>¶</a></h3><p>enter data operation</p><p>Syntax:</p><pre><code>operation ::= `acc.enter_data` ( `if` `(` $ifCond^ `)` )?
              ( `async` `(` $asyncOperand^ `:` type($asyncOperand) `)` )?
              ( `wait_devnum` `(` $waitDevnum^ `:` type($waitDevnum) `)` )?
              ( `wait` `(` $waitOperands^ `:` type($waitOperands) `)` )?
              ( `copyin` `(` $copyinOperands^ `:` type($copyinOperands) `)` )?
              ( `create` `(` $createOperands^ `:` type($createOperands) `)` )?
              ( `create_zero` `(` $createZeroOperands^ `:`
              type($createZeroOperands) `)` )?
              ( `attach` `(` $attachOperands^ `:` type($attachOperands) `)` )?
              attr-dict-with-keyword
</code></pre><p>The &ldquo;acc.enter_data&rdquo; operation represents the OpenACC enter data directive.</p><p>Example:</p><div class=highlight><pre class=chroma><code class=language-mlir data-lang=mlir>acc<span class=p>.</span>enter_data create<span class=p>(</span><span class=nv>%d1</span> <span class=p>:</span> <span class=kt>memref</span><span class=p>&lt;</span><span class=m>10x</span><span class=k>f32</span><span class=p>&gt;)</span> attributes <span class=p>{</span>async<span class=p>}</span>
</code></pre></div><p>Traits: AttrSizedOperandSegments</p><h4 id=attributes-1>Attributes:&nbsp;<a class=headline-hash href=#attributes-1>¶</a></h4><table><thead><tr><th style=text-align:center>Attribute</th><th style=text-align:center>MLIR Type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>async</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>wait</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr></tbody></table><h4 id=operands-1>Operands:&nbsp;<a class=headline-hash href=#operands-1>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>ifCond</code></td><td>1-bit signless integer</td></tr><tr><td style=text-align:center><code>asyncOperand</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>waitDevnum</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>waitOperands</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>copyinOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>createOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>createZeroOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>attachOperands</code></td><td>any type</td></tr></tbody></table><h3 id=accexit_data-mliraccexitdataop><code>acc.exit_data</code> (::mlir::acc::ExitDataOp)&nbsp;<a class=headline-hash href=#accexit_data-mliraccexitdataop>¶</a></h3><p>exit data operation</p><p>Syntax:</p><pre><code>operation ::= `acc.exit_data` ( `if` `(` $ifCond^ `)` )?
              ( `async` `(` $asyncOperand^ `:` type($asyncOperand) `)` )?
              ( `wait_devnum` `(` $waitDevnum^ `:` type($waitDevnum) `)` )?
              ( `wait` `(` $waitOperands^ `:` type($waitOperands) `)` )?
              ( `copyout` `(` $copyoutOperands^ `:` type($copyoutOperands) `)` )?
              ( `delete` `(` $deleteOperands^ `:` type($deleteOperands) `)` )?
              ( `detach` `(` $detachOperands^ `:` type($detachOperands) `)` )?
              attr-dict-with-keyword
</code></pre><p>The &ldquo;acc.exit_data&rdquo; operation represents the OpenACC exit data directive.</p><p>Example:</p><div class=highlight><pre class=chroma><code class=language-mlir data-lang=mlir>acc<span class=p>.</span>exit_data delete<span class=p>(</span><span class=nv>%d1</span> <span class=p>:</span> <span class=kt>memref</span><span class=p>&lt;</span><span class=m>10x</span><span class=k>f32</span><span class=p>&gt;)</span> attributes <span class=p>{</span>async<span class=p>}</span>
</code></pre></div><p>Traits: AttrSizedOperandSegments</p><h4 id=attributes-2>Attributes:&nbsp;<a class=headline-hash href=#attributes-2>¶</a></h4><table><thead><tr><th style=text-align:center>Attribute</th><th style=text-align:center>MLIR Type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>async</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>wait</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>finalize</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr></tbody></table><h4 id=operands-2>Operands:&nbsp;<a class=headline-hash href=#operands-2>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>ifCond</code></td><td>1-bit signless integer</td></tr><tr><td style=text-align:center><code>asyncOperand</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>waitDevnum</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>waitOperands</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>copyoutOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>deleteOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>detachOperands</code></td><td>any type</td></tr></tbody></table><h3 id=accinit-mliraccinitop><code>acc.init</code> (::mlir::acc::InitOp)&nbsp;<a class=headline-hash href=#accinit-mliraccinitop>¶</a></h3><p>init operation</p><p>Syntax:</p><pre><code>operation ::= `acc.init` ( `device_type` `(` $deviceTypeOperands^ `:` type($deviceTypeOperands) `)` )?
              ( `device_num` `(` $deviceNumOperand^ `:` type($deviceNumOperand) `)` )?
              ( `if` `(` $ifCond^ `)` )? attr-dict-with-keyword
</code></pre><p>The &ldquo;acc.init&rdquo; operation represents the OpenACC init executable
directive.</p><p>Example:</p><div class=highlight><pre class=chroma><code class=language-mlir data-lang=mlir>acc<span class=p>.</span>init
acc<span class=p>.</span>init device_num<span class=p>(</span><span class=nv>%dev1</span> <span class=p>:</span> <span class=k>i32</span><span class=p>)</span>
</code></pre></div><p>Traits: AttrSizedOperandSegments</p><h4 id=operands-3>Operands:&nbsp;<a class=headline-hash href=#operands-3>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>deviceTypeOperands</code></td><td>integer</td></tr><tr><td style=text-align:center><code>deviceNumOperand</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>ifCond</code></td><td>1-bit signless integer</td></tr></tbody></table><h3 id=accloop-mliraccloopop><code>acc.loop</code> (::mlir::acc::LoopOp)&nbsp;<a class=headline-hash href=#accloop-mliraccloopop>¶</a></h3><p>loop construct</p><p>The &ldquo;acc.loop&rdquo; operation represents the OpenACC loop construct.</p><p>Example:</p><div class=highlight><pre class=chroma><code class=language-mlir data-lang=mlir>acc<span class=p>.</span>loop gang <span class=kt>vector</span> <span class=p>{</span>
  scf<span class=p>.</span>for <span class=nv>%arg3</span> <span class=p>=</span> <span class=nv>%c0</span> to <span class=nv>%c10</span> step <span class=nv>%c1</span> <span class=p>{</span>
    scf<span class=p>.</span>for <span class=nv>%arg4</span> <span class=p>=</span> <span class=nv>%c0</span> to <span class=nv>%c10</span> step <span class=nv>%c1</span> <span class=p>{</span>
      scf<span class=p>.</span>for <span class=nv>%arg5</span> <span class=p>=</span> <span class=nv>%c0</span> to <span class=nv>%c10</span> step <span class=nv>%c1</span> <span class=p>{</span>
        <span class=c>// ... body
</span><span class=c></span>      <span class=p>}</span>
    <span class=p>}</span>
  <span class=p>}</span>
  acc<span class=p>.</span>yield
<span class=p>}</span> attributes <span class=p>{</span> <span class=nl>collapse =</span> <span class=m>3</span> <span class=p>}</span>
</code></pre></div><p>Traits: AttrSizedOperandSegments, SingleBlockImplicitTerminator<a href=acc::YieldOp>acc::YieldOp</a></p><h4 id=attributes-3>Attributes:&nbsp;<a class=headline-hash href=#attributes-3>¶</a></h4><table><thead><tr><th style=text-align:center>Attribute</th><th style=text-align:center>MLIR Type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>collapse</code></td><td style=text-align:center>::mlir::IntegerAttr</td><td>64-bit signless integer attribute</td></tr><tr><td style=text-align:center><code>seq</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>independent</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>auto_</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>reductionOp</code></td><td style=text-align:center>::mlir::acc::ReductionOpAttr</td><td>built-in reduction operations supported by OpenACC</td></tr><tr><td style=text-align:center><code>exec_mapping</code></td><td style=text-align:center>::mlir::IntegerAttr</td><td>64-bit signless integer attribute</td></tr></tbody></table><h4 id=operands-4>Operands:&nbsp;<a class=headline-hash href=#operands-4>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>gangNum</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>gangStatic</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>workerNum</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>vectorLength</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>tileOperands</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>privateOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>reductionOperands</code></td><td>any type</td></tr></tbody></table><h4 id=results>Results:&nbsp;<a class=headline-hash href=#results>¶</a></h4><table><thead><tr><th style=text-align:center>Result</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>results</code></td><td>any type</td></tr></tbody></table><h3 id=accparallel-mliraccparallelop><code>acc.parallel</code> (::mlir::acc::ParallelOp)&nbsp;<a class=headline-hash href=#accparallel-mliraccparallelop>¶</a></h3><p>parallel construct</p><p>The &ldquo;acc.parallel&rdquo; operation represents a parallel construct block. It has
one region to be executed in parallel on the current device.</p><p>Example:</p><div class=highlight><pre class=chroma><code class=language-mlir data-lang=mlir>acc<span class=p>.</span>parallel num_gangs<span class=p>(</span><span class=nv>%c10</span><span class=p>)</span> num_workers<span class=p>(</span><span class=nv>%c10</span><span class=p>)</span>
    private<span class=p>(</span><span class=nv>%c</span> <span class=p>:</span> <span class=kt>memref</span><span class=p>&lt;</span><span class=m>10x</span><span class=k>f32</span><span class=p>&gt;)</span> <span class=p>{</span>
  <span class=c>// parallel region
</span><span class=c></span><span class=p>}</span>
</code></pre></div><p>Traits: AttrSizedOperandSegments</p><h4 id=attributes-4>Attributes:&nbsp;<a class=headline-hash href=#attributes-4>¶</a></h4><table><thead><tr><th style=text-align:center>Attribute</th><th style=text-align:center>MLIR Type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>asyncAttr</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>waitAttr</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>selfAttr</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>reductionOp</code></td><td style=text-align:center>::mlir::acc::ReductionOpAttr</td><td>built-in reduction operations supported by OpenACC</td></tr><tr><td style=text-align:center><code>defaultAttr</code></td><td style=text-align:center>::mlir::acc::ClauseDefaultValueAttr</td><td>DefaultValue Clause</td></tr></tbody></table><h4 id=operands-5>Operands:&nbsp;<a class=headline-hash href=#operands-5>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>async</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>waitOperands</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>numGangs</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>numWorkers</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>vectorLength</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>ifCond</code></td><td>1-bit signless integer</td></tr><tr><td style=text-align:center><code>selfCond</code></td><td>1-bit signless integer</td></tr><tr><td style=text-align:center><code>reductionOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>copyOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>copyinOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>copyinReadonlyOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>copyoutOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>copyoutZeroOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>createOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>createZeroOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>noCreateOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>presentOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>devicePtrOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>attachOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>gangPrivateOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>gangFirstPrivateOperands</code></td><td>any type</td></tr></tbody></table><h3 id=accshutdown-mliraccshutdownop><code>acc.shutdown</code> (::mlir::acc::ShutdownOp)&nbsp;<a class=headline-hash href=#accshutdown-mliraccshutdownop>¶</a></h3><p>shutdown operation</p><p>Syntax:</p><pre><code>operation ::= `acc.shutdown` ( `device_type` `(` $deviceTypeOperands^ `:` type($deviceTypeOperands) `)` )?
              ( `device_num` `(` $deviceNumOperand^ `:` type($deviceNumOperand) `)` )?
              ( `if` `(` $ifCond^ `)` )? attr-dict-with-keyword
</code></pre><p>The &ldquo;acc.shutdown&rdquo; operation represents the OpenACC shutdown executable
directive.</p><p>Example:</p><div class=highlight><pre class=chroma><code class=language-mlir data-lang=mlir>acc<span class=p>.</span>shutdown
acc<span class=p>.</span>shutdown device_num<span class=p>(</span><span class=nv>%dev1</span> <span class=p>:</span> <span class=k>i32</span><span class=p>)</span>
</code></pre></div><p>Traits: AttrSizedOperandSegments</p><h4 id=operands-6>Operands:&nbsp;<a class=headline-hash href=#operands-6>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>deviceTypeOperands</code></td><td>integer</td></tr><tr><td style=text-align:center><code>deviceNumOperand</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>ifCond</code></td><td>1-bit signless integer</td></tr></tbody></table><h3 id=accterminator-mliraccterminatorop><code>acc.terminator</code> (::mlir::acc::TerminatorOp)&nbsp;<a class=headline-hash href=#accterminator-mliraccterminatorop>¶</a></h3><p>Generic terminator for OpenACC regions</p><p>Syntax:</p><pre><code>operation ::= `acc.terminator` attr-dict
</code></pre><p>A terminator operation for regions that appear in the body of OpenACC
operation. Generic OpenACC construct regions are not expected to return any
value so the terminator takes no operands. The terminator op returns control
to the enclosing op.</p><p>Traits: Terminator</p><h3 id=accupdate-mliraccupdateop><code>acc.update</code> (::mlir::acc::UpdateOp)&nbsp;<a class=headline-hash href=#accupdate-mliraccupdateop>¶</a></h3><p>update operation</p><p>Syntax:</p><pre><code>operation ::= `acc.update` ( `if` `(` $ifCond^ `)` )?
              ( `async` `(` $asyncOperand^ `:` type($asyncOperand) `)` )?
              ( `wait_devnum` `(` $waitDevnum^ `:` type($waitDevnum) `)` )?
              ( `device_type` `(` $deviceTypeOperands^ `:`
              type($deviceTypeOperands) `)` )?
              ( `wait` `(` $waitOperands^ `:` type($waitOperands) `)` )?
              ( `host` `(` $hostOperands^ `:` type($hostOperands) `)` )?
              ( `device` `(` $deviceOperands^ `:` type($deviceOperands) `)` )?
              attr-dict-with-keyword
</code></pre><p>The &ldquo;acc.udpate&rdquo; operation represents the OpenACC update executable
directive.
As host and self clauses are synonyms, any operands for host and self are
add to $hostOperands.</p><p>Example:</p><div class=highlight><pre class=chroma><code class=language-mlir data-lang=mlir>acc<span class=p>.</span>update device<span class=p>(</span><span class=nv>%d1</span> <span class=p>:</span> <span class=kt>memref</span><span class=p>&lt;</span><span class=m>10x</span><span class=k>f32</span><span class=p>&gt;)</span> attributes <span class=p>{</span>async<span class=p>}</span>
</code></pre></div><p>Traits: AttrSizedOperandSegments</p><h4 id=attributes-5>Attributes:&nbsp;<a class=headline-hash href=#attributes-5>¶</a></h4><table><thead><tr><th style=text-align:center>Attribute</th><th style=text-align:center>MLIR Type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>async</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>wait</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr><tr><td style=text-align:center><code>ifPresent</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr></tbody></table><h4 id=operands-7>Operands:&nbsp;<a class=headline-hash href=#operands-7>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>ifCond</code></td><td>1-bit signless integer</td></tr><tr><td style=text-align:center><code>asyncOperand</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>waitDevnum</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>waitOperands</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>deviceTypeOperands</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>hostOperands</code></td><td>any type</td></tr><tr><td style=text-align:center><code>deviceOperands</code></td><td>any type</td></tr></tbody></table><h3 id=accwait-mliraccwaitop><code>acc.wait</code> (::mlir::acc::WaitOp)&nbsp;<a class=headline-hash href=#accwait-mliraccwaitop>¶</a></h3><p>wait operation</p><p>Syntax:</p><pre><code>operation ::= `acc.wait` ( `(` $waitOperands^ `:` type($waitOperands) `)` )?
              ( `async` `(` $asyncOperand^ `:` type($asyncOperand) `)` )?
              ( `wait_devnum` `(` $waitDevnum^ `:` type($waitDevnum) `)` )?
              ( `if` `(` $ifCond^ `)` )? attr-dict-with-keyword
</code></pre><p>The &ldquo;acc.wait&rdquo; operation represents the OpenACC wait executable
directive.</p><p>Example:</p><div class=highlight><pre class=chroma><code class=language-mlir data-lang=mlir>acc<span class=p>.</span>wait<span class=p>(</span><span class=nv>%value1</span><span class=p>:</span> <span class=k>index</span><span class=p>)</span>
acc<span class=p>.</span>wait<span class=p>()</span> async<span class=p>(</span><span class=nv>%async1</span><span class=p>:</span> <span class=k>i32</span><span class=p>)</span>
</code></pre></div><p>Traits: AttrSizedOperandSegments</p><h4 id=attributes-6>Attributes:&nbsp;<a class=headline-hash href=#attributes-6>¶</a></h4><table><thead><tr><th style=text-align:center>Attribute</th><th style=text-align:center>MLIR Type</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>async</code></td><td style=text-align:center>::mlir::UnitAttr</td><td>unit attribute</td></tr></tbody></table><h4 id=operands-8>Operands:&nbsp;<a class=headline-hash href=#operands-8>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>waitOperands</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>asyncOperand</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>waitDevnum</code></td><td>integer or index</td></tr><tr><td style=text-align:center><code>ifCond</code></td><td>1-bit signless integer</td></tr></tbody></table><h3 id=accyield-mliraccyieldop><code>acc.yield</code> (::mlir::acc::YieldOp)&nbsp;<a class=headline-hash href=#accyield-mliraccyieldop>¶</a></h3><p>Acc yield and termination operation</p><p>Syntax:</p><pre><code>operation ::= `acc.yield` attr-dict ($operands^ `:` type($operands))?
</code></pre><p><code>acc.yield</code> is a special terminator operation for block inside regions in
acc ops (parallel and loop). It returns values to the immediately enclosing
acc op.</p><p>Traits: HasParent&lt;ParallelOp, LoopOp>, Terminator</p><h4 id=operands-9>Operands:&nbsp;<a class=headline-hash href=#operands-9>¶</a></h4><table><thead><tr><th style=text-align:center>Operand</th><th>Description</th></tr></thead><tbody><tr><td style=text-align:center><code>operands</code></td><td>any type</td></tr></tbody></table><div class=edit-meta><br></div><nav class=pagination><a class="nav nav-prev" href=/docs/Dialects/ title=Dialects><i class="fas fa-arrow-left" aria-hidden=true></i>Prev - Dialects</a>
<a class="nav nav-next" href=/docs/Dialects/Affine/ title="'affine' Dialect">Next - 'affine' Dialect <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme by <a href=https://themes.gohugo.io/hugo-theme-techdoc/>TechDoc</a>. Designed by <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=slide-menu><ul><li><a href=https://mlir.llvm.org/>Home</a></li><li><a href=/pubs/>MLIR Related Publications</a></li><li><a href=/talks/>Talks</a></li><li><a href=/users/>Users of MLIR</a></li><li class=has-sub-menu><a href=/getting_started/>Getting Started<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=/getting_started/Debugging/>Debugging Tips</a></li><li><a href=/getting_started/Faq/>FAQ</a></li><li><a href=/getting_started/Contributing/>How to Contribute</a></li><li><a href=/getting_started/DeveloperGuide/>Developer Guide</a></li><li><a href=/getting_started/openprojects/>Open Projects</a></li><li><a href=/getting_started/Glossary/>Glossary</a></li><li><a href=/getting_started/TestingGuide/>Testing Guide</a></li></ul></li><li class="parent has-sub-menu"><a href=/docs/>Code Documentation<span class="mark opened">-</span></a><ul class=sub-menu><li class=has-sub-menu><a href=/docs/Bindings/>Bindings<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=/docs/Bindings/Python/>MLIR Python Bindings</a></li></ul></li><li class=has-sub-menu><a href=/docs/Tools/>Tools<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=/docs/Tools/MLIRLSP/>MLIR : Language Server Protocol</a></li><li><a href=/docs/Tools/mlir-reduce/>MLIR Reduce</a></li></ul></li><li><a href=/docs/BufferDeallocationInternals/>Buffer Deallocation - Internals</a></li><li><a href=/docs/Bufferization/>Bufferization</a></li><li><a href=/docs/DataLayout/>Data Layout Modeling</a></li><li><a href=/docs/DebugActions/>Debug Actions</a></li><li><a href=/docs/AttributesAndTypes/>Defining Dialect Attributes and Types</a></li><li><a href=/docs/DefiningDialects/>Defining Dialects</a></li><li><a href=/docs/Diagnostics/>Diagnostic Infrastructure</a></li><li><a href=/docs/DialectConversion/>Dialect Conversion</a></li><li class="parent has-sub-menu"><a href=/docs/Dialects/>Dialects<span class="mark opened">-</span></a><ul class=sub-menu><li class=active><a href=/docs/Dialects/OpenACCDialect/>'acc' Dialect</a></li><li><a href=/docs/Dialects/Affine/>'affine' Dialect</a></li><li><a href=/docs/Dialects/AMX/>'amx' Dialect</a></li><li><a href=/docs/Dialects/ArithmeticOps/>'arith' Dialect</a></li><li><a href=/docs/Dialects/ArmNeon/>'arm_neon' Dialect</a></li><li><a href=/docs/Dialects/ArmSVE/>'arm_sve' Dialect</a></li><li><a href=/docs/Dialects/AsyncDialect/>'async' Dialect</a></li><li><a href=/docs/Dialects/BufferizationOps/>'bufferization' Dialect</a></li><li><a href=/docs/Dialects/ControlFlowDialect/>'cf' Dialect</a></li><li><a href=/docs/Dialects/ComplexOps/>'complex' Dialect</a></li><li><a href=/docs/Dialects/DLTIDialect/>'dlti' Dialect</a></li><li><a href=/docs/Dialects/EmitC/>'emitc' Dialect</a></li><li><a href=/docs/Dialects/Func/>'func' Dialect</a></li><li><a href=/docs/Dialects/GPU/>'gpu' Dialect</a></li><li class=has-sub-menu><a href=/docs/Dialects/Linalg/>'linalg' Dialect<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=/docs/Dialects/Linalg/OpDSL/>Linalg OpDSL</a></li></ul></li><li><a href=/docs/Dialects/LLVM/>'llvm' Dialect</a></li><li><a href=/docs/Dialects/MathOps/>'math' Dialect</a></li><li><a href=/docs/Dialects/MemRef/>'memref' Dialect</a></li><li><a href=/docs/Dialects/MLProgramOps/>'ml_program' Dialect</a></li><li><a href=/docs/Dialects/NVGPU/>'nvgpu' Dialect</a></li><li><a href=/docs/Dialects/NVVMDialect/>'nvvm' Dialect</a></li><li><a href=/docs/Dialects/OpenMPDialect/>'omp' Dialect</a></li><li><a href=/docs/Dialects/PDLOps/>'pdl' Dialect</a></li><li><a href=/docs/Dialects/PDLInterpOps/>'pdl_interp' Dialect</a></li><li><a href=/docs/Dialects/QuantDialect/>'quant' Dialect</a></li><li><a href=/docs/Dialects/ROCDLDialect/>'rocdl' Dialect</a></li><li><a href=/docs/Dialects/SCFDialect/>'scf' Dialect</a></li><li><a href=/docs/Dialects/ShapeDialect/>'shape' Dialect</a></li><li><a href=/docs/Dialects/SparseTensorOps/>'sparse_tensor' Dialect</a></li><li><a href=/docs/Dialects/SPIR-V/>'spv' Dialect</a></li><li><a href=/docs/Dialects/TensorOps/>'tensor' Dialect</a></li><li><a href=/docs/Dialects/Vector/>'vector' Dialect</a></li><li><a href=/docs/Dialects/X86Vector/>'x86vector' Dialect</a></li><li><a href=/docs/Dialects/Builtin/>Builtin Dialect</a></li><li><a href=/docs/Dialects/TOSA/>Tensor Operator Set Architecture (TOSA) Dialect</a></li><li><a href=/docs/Dialects/Transform/>Transform Dialect</a></li></ul></li><li><a href=/docs/ExtensibleDialects/>Extensible dialects</a></li><li><a href=/docs/Interfaces/>Interfaces</a></li><li><a href=/docs/TargetLLVMIR/>LLVM IR Target</a></li><li><a href=/docs/CAPI/>MLIR C API</a></li><li><a href=/docs/LangRef/>MLIR Language Reference</a></li><li><a href=/docs/Canonicalization/>Operation Canonicalization</a></li><li><a href=/docs/OpDefinitions/>Operation Definition Specification (ODS)</a></li><li><a href=/docs/PassManagement/>Pass Infrastructure</a></li><li><a href=/docs/Passes/>Passes</a></li><li><a href=/docs/PatternRewriter/>Pattern Rewriting : Generic DAG-to-DAG Rewriting</a></li><li><a href=/docs/PDLL/>PDLL - PDL Language</a></li><li><a href=/docs/Quantization/>Quantization</a></li><li class=has-sub-menu><a href=/docs/Rationale/>Rationale<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=/docs/Rationale/RationaleGenericDAGRewriter/>Generic DAG Rewriter Infrastructure Rationale</a></li><li><a href=/docs/Rationale/RationaleLinalgDialect/>Linalg Dialect Rationale: The Case For Compiler-Friendly Custom Operations</a></li><li><a href=/docs/Rationale/Rationale/>MLIR Rationale</a></li><li><a href=/docs/Rationale/MLIRForGraphAlgorithms/>MLIR: Incremental Application to Graph Algorithms in ML Frameworks</a></li><li><a href=/docs/Rationale/RationaleSimplifiedPolyhedralForm/>MLIR: The case for a simplified polyhedral form</a></li><li><a href=/docs/Rationale/UsageOfConst/>Usage of 'const' in MLIR, for core IR types</a></li></ul></li><li><a href=/docs/ShapeInference/>Shape Inference</a></li><li><a href=/docs/SPIRVToLLVMDialectConversion/>SPIR-V Dialect to LLVM Dialect conversion manual</a></li><li><a href=/docs/SymbolsAndSymbolTables/>Symbols and Symbol Tables</a></li><li><a href=/docs/DeclarativeRewrites/>Table-driven Declarative Rewrite Rule (DRR)</a></li><li><a href=/docs/Traits/>Traits</a></li><li class=has-sub-menu><a href=/docs/Tutorials/>Tutorials<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=/docs/Tutorials/CreatingADialect/>Creating a Dialect</a></li><li><a href=/docs/Tutorials/QuickstartRewrites/>Quickstart tutorial to adding MLIR graph rewrite</a></li><li class=has-sub-menu><a href=/docs/Tutorials/Toy/>Toy Tutorial<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=/docs/Tutorials/Toy/Ch-1/>Chapter 1: Toy Language and AST</a></li><li><a href=/docs/Tutorials/Toy/Ch-2/>Chapter 2: Emitting Basic MLIR</a></li><li><a href=/docs/Tutorials/Toy/Ch-3/>Chapter 3: High-level Language-Specific Analysis and Transformation</a></li><li><a href=/docs/Tutorials/Toy/Ch-4/>Chapter 4: Enabling Generic Transformation with Interfaces</a></li><li><a href=/docs/Tutorials/Toy/Ch-5/>Chapter 5: Partial Lowering to Lower-Level Dialects for Optimization</a></li><li><a href=/docs/Tutorials/Toy/Ch-6/>Chapter 6: Lowering to LLVM and CodeGeneration</a></li><li><a href=/docs/Tutorials/Toy/Ch-7/>Chapter 7: Adding a Composite Type to Toy</a></li></ul></li><li><a href=/docs/Tutorials/UnderstandingTheIRStructure/>Understanding the IR Structure</a></li><li><a href=/docs/Tutorials/DataFlowAnalysis/>Writing DataFlow Analyses in MLIR</a></li></ul></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i><i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>